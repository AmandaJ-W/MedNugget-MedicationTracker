-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public.medication
(
    med_id SERIAL,
    name character varying(50) NOT NULL,
    PRIMARY KEY (med_id)
);

CREATE TABLE IF NOT EXISTS public.pet
(
    pet_id SERIAL,
    name character varying(50) NOT NULL,
    type_of_animal character varying(100),
    PRIMARY KEY (pet_id)
);

CREATE TABLE IF NOT EXISTS public.pet_medication
(
    med_id integer NOT NULL,
    pet_id integer NOT NULL,
    dose character varying(255),
    frequency character varying(255),
    purpose character varying(255),
    want_reminder boolean,
    given boolean,
    time_of_dose timestamp without time zone,
    PRIMARY KEY (med_id, pet_id)
);

ALTER TABLE public.pet_medication
    ADD FOREIGN KEY (med_id)
    REFERENCES public.medication (med_id)
    NOT VALID;


ALTER TABLE public.pet_medication
    ADD FOREIGN KEY (pet_id)
    REFERENCES public.pet (pet_id)
    NOT VALID;


ALTER TABLE public.pet_medication
    ADD FOREIGN KEY (med_id)
    REFERENCES public.medication (med_id)
    NOT VALID;


ALTER TABLE public.pet_medication
    ADD FOREIGN KEY (pet_id)
    REFERENCES public.pet (pet_id)
    NOT VALID;

END;